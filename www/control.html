<!DOCTYPE html>
<head>
	<title>NextGen</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" >
	<link rel="stylesheet" type="text/css" href="assets/css/style_control.css" />
	<link rel="stylesheet" href="fonts/css/font-awesome.min.css">
	<script type="text/javascript" src="assets/js/microgear.js"></script>
	<script type="text/javascript" src="assets/js/allfunction.js" ></script>

<script>

</script>
</head>
<body>
	<header>
		<div id="mySidenav" class="sidenav">
  			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  			<p class="menu"> Menu </p>

  			<a href="index.html"><i class="fa fa-home"></i> Home</a>
  			<a href="#"><i class="fa fa-gears"></i> Control</a>
  			<a href="statistic.html"><i class="fa fa-bar-chart-o"></i> Statistic</a>
  			<a href="community.html">Community</a>

		</div>
		<span id="navbar" style="font-size:20px;cursor:pointer" onclick="openNav()">&#9776;</span>
	</header>
<!--End Header-->
<div id="main">
	<section class="banner">
	<div class="banner-inner">
		<img src="images/Control.png">
	</div>
	</section>
<!--End Banner-->
	<section class="inner-wrapper1">
		<h2>Auto Controlling</h2>
		<h1>ปลูกผักสลัด 	<button class="select" onclick="auto1()">Select</button></h1> 
		<h1>ปลูกพืชดอก 	<button class="select" onclick="auto2()">Select</button></h1> 
		<h1>ปลูกแบบผสมผสาน 	<button class="select" onclick="auto3()">Select</button></h1> 
		

	</section>
	<section class="inner-wrapper2">
		<h2>Manual Controlling</h2>

		<h1>
		<i class="fa fa-lightbulb-o"></i> Light &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		<button class="buttonOn" onClick="lightOn()">On</button>   <button class="buttonOff" onClick="lightOff()">Off</button></h1>
		
		<h1><i class="fa fa-tint"></i> Water&nbsp;&nbsp;&nbsp; &nbsp;
		<button class="buttonOn" onClick="waterOn()">On</button>   <button class="buttonOff" onClick="waterOff()">Off</button></h1>
		<h1><button class="buttonInterval" onClick="waterintOn()">Water Timer On</button> <button class="buttonInterval" onClick="lightintOn()">Light Timer On</button>
</h1>
		
		<h1>
    	</br><i class="fa fa-certificate"></i> Light Intensity </br>
		<span class="range-slider">	
  			<input class="range-slider__range" id="lightdata" type="range" value="1" min="1" max="5" onchange="showValue(this.value)">
			</br>Lv <a id="lightdata_value"></a>
		</span>

    	</br></br></br></br><i class="fa fa-clock-o"></i> Watering timer </br>
		<span class="range-slider">
  			<input class="range-slider__range" id="waterdata" type="range" value="1" min="1" max="24" onchange="showValue2(this.value)">
  			 
  			 </br><a id="waterdata_interval"><a> Hours
		</span>

    	</br></br></br></br><i class="fa fa-clock-o"></i> Light Interval time </br>
    	<span class="range-slider">
  			<input class="range-slider__range" id="lightinterval" type="range" value="1" min="1" max="24" onchange="showValue3(this.value)">
  			 
  			 </br><a id="lightdata_interval"></a> Hours
		</span>
		</h1>
	</section>
<!--Detail-->
	<footer>
		<ul class="social">
			<li><a onclick="loadweb('http://www.facebook.com','_self')"><i class="fa fa-facebook"></i></a></li>
			<li><a onclick="loadweb('http://www.google.com','_self')"><i class="fa fa-google-plus"></i></a></li>
			<li><a onclick="loadweb('http://www.youtube.com','_self')"><i class="fa fa-youtube"></i></a></li>
	</footer>
<!--Footer-->
	<footer class="second">
	<p>&copy; NextGen </p>
	</footer>
</div>
<script>

	const APPID = "garden";
	const KEY = "15nQBEomCSmctCd";
	const SECRET = "DA0HRd8LY9wqPJdbYX0LeCPDm";

	/* microgear mg1 */
	var mg1 = Microgear.create({
		key: KEY,
		secret: SECRET,
		alias : "mg1"
	});

	/*--AutoControlSet--*/
	function auto1(){
		mg1.chat("mg3","auto_control,set1,light_5,waterInterval10")
	}
	function auto2(){
		mg1.chat("mg3","auto_control,set2,light_3,waterInterval8")
	}
	function auto3(){
		mg1.chat("mg3","auto_control,set3,light_1,waterInterval6")
	}


	/*--OnOffcontrol--*/
	function lightOn(){
			mg1.chat("mg3","manual_control,light_on")
	}
	function lightOff(){
			mg1.chat("mg3","manual_control,light_off")
	}
	function waterOn(){
			mg1.chat("mg3","manual_control,water_on")
	}
	function waterOff(){
			mg1.chat("mg3","manual_control,water_off")
	}
	function lightintOn(){
			mg1.chat("mg3","manual_control,lightintOn")
	}
	function waterintOn(){
			mg1.chat("mg3","manual_control,waterintOn")
	}

	/*--slidebarLightlv--*/  
	function showValue(newValue){
		document.getElementById("lightdata_value").innerHTML=newValue;
		var lightlv = document.getElementById("lightdata").value;
 		  mg1.chat("mg3","lightlv," + lightlv)
 		  mg1.chat("mg2","lightlv," + lightlv) //test
	}
	/*--slidebarWateringTimer--*/  
	function showValue2(newValue){
		document.getElementById("waterdata_interval").innerHTML=newValue;
		var water_int = document.getElementById("waterdata").value;
		/*--water_intervalcontrol--*/
		   mg1.chat("mg3","water," + water_int*1000)
		   mg1.chat("mg2","water," + water_int*10) //test
		}
	/*--slidebarLightinterval--*/  
	function showValue3(newValue){
		document.getElementById("lightdata_interval").innerHTML=newValue;
		var light_int = document.getElementById("lightinterval").value;
		    mg1.chat("mg3","light_interval," + light_int*60000)
		 	mg1.chat("mg2","light_interval," + light_int*10) //test
		}

	mg1.connect(APPID);
	
</script>

</body>
</html>

